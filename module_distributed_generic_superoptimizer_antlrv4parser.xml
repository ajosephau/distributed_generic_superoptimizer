<?xml version="1.0" encoding="UTF-8"?>
<project name="module_dgso_antlrv4parser" default="create.module.dgso.antlrv4parser">
  <dirname property="module.dgso.basedir" file="module_distributed_generic_superoptimizer_antlrv4parser.xml"/>

  <property name="dgso.antlrv4parser.output.dir" value="${module.dgso.basedir}/src/org/dgso/antlrv4parser"/>


  <property name="library.antlr-4.4-complete.path" value="${basedir}/lib/antlr-4.4-complete.jar"/>

  <target name="clean.module.dgso.antlrv4parser" description="cleanup antlrv4parser module">
    <delete dir="${dgso.antlrv4parser.output.dir}"/>
  </target>

  <target name="create.module.dgso.antlrv4parser" depends="create.module.dgso.antlrv4parser.fromsources" description="create antlr v4 sources."/>
  
  <target name="create.module.dgso.antlrv4parser.fromsources" description="create antlr v4 sources from lexer and parser g4 files.">
    <mkdir dir="${dgso.antlrv4parser.output.dir}"/>
    <java
      jar="${library.antlr-4.4-complete.path}"
      fork="true"
      failonerror="true"
      >
      <arg line="-o ${dgso.antlrv4parser.output.dir} -no-listener -visitor -package org.dgso.antlrv4parser ${module.dgso.basedir}/conf/ANTLRv4Lexer.g4 ${module.dgso.basedir}/conf/ANTLRv4Parser.g4"/>
    </java>
  </target>
</project>